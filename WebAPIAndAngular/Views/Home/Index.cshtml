
@{
    ViewBag.Title = "Welcome - GEP";
}
<style>
    table, tr, td, th {
        border: 1px solid #ccc;
        padding: 10px;
        margin: 10px;
    }

    .borderless td, .borderless th {
        border: none;
    }
</style>

<h2>Welcome to Employee Status Dashboard</h2>
<br />
<body data-ng-app="APIModule">
    <div id="tblSubs" ng-controller="APIController">
        <form name="empstatusform">
            <div class="form-group">
                <label>Department</label>
                <div>
                    <select id="ddlDepts" class="form-control btn btn-default" ng-model="deptModel" ng-required="true">
                        <option value="">Select Department</option>
                        <option ng-repeat="dept in DeptsObject"
                                value="{{dept.DeptID}}">
                            {{dept.DeptName}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label>Status</label>
                <div>
                    <select id="ddlStatus" class="form-control btn btn-default" ng-model="statusModel" ng-required="true">
                        <option value="">Select Status</option>
                        <option value="true">Present</option>
                        <option value="false">Absent</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label>Date</label>
                <div>
                    <input type="text" id="txtdate" class="form-control" ng-model="dateModel" placeholder="YYYY/MM/DD" ng-required="true" />
                </div>
            </div>
            <button type="button" class="btn btn-primary" data-ng-click="getEmployees();">Fetch</button>
        </form>
        <br />
        <br />
        <span class="h4">Employees</span>
        <table>
            <tr>
                <th>Employee ID</th>
                <th>Employee Name</th>
            </tr>
            <tbody data-ng-repeat="emp in EmpsObject">
                <tr>
                    <td>{{emp.empId}}</td>
                    <td><button class="btn btn-link" data-toggle="modal" data-target="#employeeModal" data-ng-click="showEmployeeDetails(emp.empId)">{{emp.firstName +" "+ emp.lastName}}</button></td>
                </tr>
            </tbody>
        </table>
        <!-- Modal -->
        <div id="employeeModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Employee Details</h4>
                    </div>
                    <div class="modal-body">
                        <table class="table borderless">
                            <tr>
                                <td>Employee ID</td>
                                <td>{{lblempId}}</td>
                            </tr>
                            <tr>
                                <td>First Name</td>
                                <td>{{lblfirstName}}</td>
                            </tr>
                            <tr>
                                <td>Last Name</td>
                                <td>{{lbllastName}}</td>
                            </tr>
                            <tr>
                                <td>Date of Birth</td>
                                <td>{{lbldob | date}}</td>
                            </tr>
                            <tr>
                                <td>Joining Date</td>
                                <td>{{lbljoiningDate | date}}</td>
                            </tr>
                            <tr>
                                <td>Department</td>
                                <td>{{lbldeptName}}</td>
                            </tr>
                            <tr>
                                <td>Status</td>
                                <td>{{lblstatus}}</td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</body>
<script src="~/Scripts/angular.js"></script>
<script src="~/Scripts/angular-route.js"></script>
<script src="~/Scripts/APIScripts/Module.js"></script>
<script src="~/Scripts/APIScripts/Service.js"></script>
<script src="~/Scripts/APIScripts/Controller.js"></script>



